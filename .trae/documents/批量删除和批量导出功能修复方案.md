## 问题分析

通过对代码的详细分析，我已经确定了批量删除和批量导出功能无法正常使用的根本原因：

### 1. 批量导出功能故障原因
- **错误代码位置**：`ContentManagement.jsx` 第264行
- **错误内容**：直接调用 `apiService.post('/content/export', { ids: selectedRowKeys })`
- **根本原因**：`apiService` 对象没有 `post` 方法，`post` 方法是 `axios` 实例的方法，而不是 `apiService` 对象的方法
- **正确调用方式**：应使用 `apiService.content.export({ ids: selectedRowKeys })

### 2. 批量删除功能故障原因
- **错误代码位置**：`ContentManagement.jsx` 第241行（单文件下载功能中）
- **错误内容**：直接调用 `apiService.post('/content/download', { id: record._id })
- **根本原因**：同样是调用了不存在的 `apiService.post` 方法
- **正确调用方式**：应使用 `apiService.content.download(record._id)

### 3. 按钮状态问题
- 按钮 `disabled` 属性绑定了 `selectedRowKeys.length === 0`
- 当未选择任何行时，按钮将保持禁用状态
- 这是正常的业务逻辑，不是故障，但需要确保选择功能正常

## 修复方案

### 修复步骤

#### 1. 修复批量导出功能
- **文件**：`frontend/src/pages/ContentManagement.jsx`
- **函数**：`handleBatchExport`
- **修改内容**：将 `apiService.post('/content/export', { ids: selectedRowKeys })` 改为 `apiService.content.export({ ids: selectedRowKeys })

#### 2. 修复单文件下载功能
- **文件**：`frontend/src/pages/ContentManagement.jsx`
- **函数**：`handleDownload`
- **修改内容**：将 `apiService.post('/content/download', { id: record._id })` 改为 `apiService.content.download(record._id)

#### 3. 验证批量删除功能
- 批量删除功能的调用方式 `apiService.content.batchDelete({ ids: selectedRowKeys })` 是正确的
- 但需要确保其依赖的单文件删除功能正常

### 修复后预期效果

1. **批量删除功能**：
   - 选择多个内容项后，批量删除按钮变为可用
   - 点击批量删除按钮，弹出确认对话框
   - 确认后，调用后端 API 批量删除所选内容
   - 删除成功后，刷新内容列表并清除选择
   - 显示删除成功的提示信息

2. **批量导出功能**：
   - 选择多个内容项后，批量导出按钮变为可用
   - 点击批量导出按钮，调用后端 API 生成 Excel 文件
   - 生成成功后，自动下载 Excel 文件
   - 显示导出成功的提示信息

3. **单文件下载功能**：
   - 点击单个内容项的下载按钮，调用后端 API 生成下载链接
   - 生成成功后，自动下载文件
   - 显示下载成功的提示信息

## 技术实现

### 1. 批量导出功能修复

**修改前**：
```javascript
const response = await apiService.post('/content/export', { ids: selectedRowKeys });
```

**修改后**：
```javascript
const response = await apiService.content.export({ ids: selectedRowKeys });
```

### 2. 单文件下载功能修复

**修改前**：
```javascript
const response = await apiService.post('/content/download', { id: record._id });
```

**修改后**：
```javascript
const response = await apiService.content.download(record._id);
```

## 测试方案

### 1. 批量删除功能测试
- 测试场景1：未选择任何内容，点击批量删除按钮
  - 预期结果：按钮保持禁用状态，无操作
- 测试场景2：选择一个内容，点击批量删除按钮
  - 预期结果：弹出确认对话框，确认后删除该内容，显示成功提示
- 测试场景3：选择多个内容，点击批量删除按钮
  - 预期结果：弹出确认对话框，确认后删除所有所选内容，显示成功提示
- 测试场景4：删除失败（模拟后端错误）
  - 预期结果：显示错误提示信息，内容列表保持不变

### 2. 批量导出功能测试
- 测试场景1：未选择任何内容，点击批量导出按钮
  - 预期结果：按钮保持禁用状态，无操作
- 测试场景2：选择一个内容，点击批量导出按钮
  - 预期结果：生成包含所选内容的 Excel 文件并下载，显示成功提示
- 测试场景3：选择多个内容，点击批量导出按钮
  - 预期结果：生成包含所有所选内容的 Excel 文件并下载，显示成功提示
- 测试场景4：导出失败（模拟后端错误）
  - 预期结果：显示错误提示信息

### 3. 单文件下载功能测试
- 测试场景1：点击单个内容的下载按钮
  - 预期结果：生成下载链接并自动下载文件，显示成功提示
- 测试场景2：下载失败（模拟后端错误）
  - 预期结果：显示错误提示信息

## 修复风险评估

- **风险等级**：低
- **影响范围**：仅影响内容管理页面的批量删除、批量导出和单文件下载功能
- **修复难度**：简单，仅需修改3行代码
- **测试难度**：简单，可通过前端界面直接测试

## 修复后验证

修复完成后，需要进行以下验证：

1. 启动前端和后端服务
2. 访问内容管理页面
3. 测试批量删除功能
4. 测试批量导出功能
5. 测试单文件下载功能
6. 检查浏览器控制台是否有错误信息
7. 验证后端 API 调用是否正常

通过以上修复方案，我们可以解决批量删除和批量导出功能无法正常使用的问题，确保这些功能能够按预期工作。