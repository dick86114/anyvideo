## 问题分析

1. **后端服务状态**：服务正在运行，但MongoDB连接失败（connect ECONNREFUSED ::1:27017），服务继续运行但部分功能受限
2. **401错误原因**：
   - 前端使用模拟登录生成"mock-token-"开头的token
   - 后端JWT验证机制无法识别模拟token
   - 认证中间件要求有效的JWT格式token

## 解决方案

### 1. 修复认证机制

**方案A：调整前端登录，使用真实的后端登录API**
- 修改`frontend/src/pages/Login.jsx`：将模拟登录改为真实的API调用
- 确保后端`auth/login`接口正常工作

**方案B：调整后端认证中间件，支持模拟token**
- 修改`backend/src/middleware/auth.js`：添加对模拟token的支持
- 允许开发环境下使用模拟token

### 2. 检查并修复MongoDB连接问题

**步骤1：确认MongoDB服务状态**
- 检查MongoDB是否已安装并运行
- 确认连接字符串配置正确

**步骤2：调整后端配置**
- 如果MongoDB不可用，考虑添加友好的错误处理
- 确保服务在没有MongoDB的情况下仍能提供核心功能

### 3. 验证API请求流程

**步骤1：测试登录接口**
- 确保`/api/v1/auth/login`接口正常响应
- 测试获取token的流程

**步骤2：测试其他API接口**
- 确保认证后的请求能够正常访问受保护的资源
- 测试`/api/v1/hotsearch/platforms`等接口

## 实施计划

1. **首先处理认证问题**：选择方案B，调整后端认证中间件支持模拟token
2. **然后检查MongoDB连接**：根据实际情况决定是否需要修复
3. **最后验证API请求**：确保所有接口能够正常响应

## 预期结果

1. 前端能够成功登录，不再出现"认证令牌无效"错误
2. 后端服务能够正常处理API请求
3. 即使MongoDB连接失败，核心功能仍能正常工作
4. 开发环境下可以使用模拟登录进行测试